<!--

    Copyright (C) 2012 Andrew Jackson <Andrew.Jackson@bl.uk>

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

            http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

-->
<BODY BACKGROUND="../images/bckgnd.jpg">
<br>
<center>
<A HREF="http://csmr.ca.sandia.gov/projects/opt++"> <IMG SRC="../images/opt++_logo.gif" WIDTH=100 ALIGN="LEFT"/> </A>
</center>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1><a class="anchor" name="tstqnewton">Quasi-Newton Method with trust-region</a></h1>We solve the Rosenbrock problem using a Quasi-Newton method with BFGS update for the Hessian. The implemented trust-region method is the dogleg method. Other valid globalization strategies are line-search and trust region parallel direct search method. An iteration history is written to file <em>tstqnewton.out</em>.<p>
<div class="fragment"><pre class="fragment">   <span class="comment">//</span>
   <span class="comment">// Test program for Quasi-Newton optimization objects</span>
   <span class="comment">//</span>

<span class="preprocessor">   #include &lt;fstream&gt;</span>

<span class="preprocessor">   #include "<a class="code" href="OptQNewton_8h.html">OptQNewton.h</a>"</span>
<span class="preprocessor">   #include "<a class="code" href="NLF_8h.html">NLF.h</a>"</span>
<span class="preprocessor">   #include "tstfcn.h"</span>

   <span class="keyword">using</span> NEWMAT::ColumnVector;
   <span class="keyword">using</span> <span class="keyword">namespace </span>OPTPP;

   <span class="keywordtype">void</span> <a class="code" href="tsthock1_8C.html#a0">update_model</a>(<span class="keywordtype">int</span>, <span class="keywordtype">int</span>, ColumnVector) {}

   <span class="keywordtype">int</span> <a class="code" href="namespaceOPTPP.html#a119">main</a> ()
   {
     <span class="keywordtype">int</span> n = 2;
  
     <span class="keyword">static</span> <span class="keywordtype">char</span> *status_file = {<span class="stringliteral">"tstqnewton.out"</span>};


     <span class="comment">//  Create a Nonlinear problem object</span>
     NLF1 nlp(n,rosen,init_rosen);
  
     nlp.setIsExpensive(<span class="keyword">true</span>);

     <span class="comment">//  Create a "Tolerances" object and set the tolerances</span>
     TOLS tol;         
     tol.setDefaultTol();
     tol.setFTol(1.e-9);    <span class="comment">// Set convergence tolerance to 1.e-9 </span>
     tol.setMaxIter(200);   <span class="comment">// Set maximum number of outer iterations to 200</span>
  
     <span class="comment">//  Build a Quasi-Newton object and optimize </span>
     OptQNewton objfcn(&amp;nlp,tol);   

     <span class="keywordflow">if</span> (!objfcn.setOutputFile(status_file, 0))
       cerr &lt;&lt; <span class="stringliteral">"main: output file open failed"</span> &lt;&lt; endl;

     objfcn.setTRSize(100.); <span class="comment">// Set initial trust region radius to 100</span>
     objfcn.optimize();

     objfcn.printStatus(<span class="stringliteral">"Solution from quasi-newton"</span>);
     objfcn.cleanup();   

   }
</pre></div><p>
<a href="BoundConstrainedProblems.html">Next Section: Bound-constrained minimization</a> | <a href="Classification.html">Back to Solvers Page</a> <p>
Last revised <em> September 14, 2006 </em>. <HR>
<center>
<A HREF="http://software.sandia.gov/bugzilla"> Bug Reports</A>
&nbsp;&nbsp;
<A HREF="mailto:opt++-developers@software.sandia.gov"> OPT++ Developers</A>
&nbsp;&nbsp;
<A HREF="COPYRIGHT.html">Copyright Information</A>
&nbsp;&nbsp;
<A HREF="http://www.gnu.org/copyleft/lesser.html">GNU Lesser General
	Public License</A>
<A HREF="http://csmr.ca.sandia.gov"> <IMG SRC="../images/csmrlogo.gif" WIDTH=150 ALIGN="LEFT"/> </A>
<A HREF="http://www.sandia.gov"> <IMG SRC="../images/sandialogo.gif" WIDTH=100 ALIGN="LEFT"/> </A>
<A HREF="http://www.lbl.gov"> <IMG SRC="../images/lbllogo.jpg" WIDTH=100 ALIGN="RIGHT"/> </A>
<A HREF="http://www.nersc.gov"> <IMG SRC="../images/nersclogo.gif" WIDTH=100 ALIGN="RIGHT"/> </A>
</center>
<center>
Documentation, generated by <A HREF=" http://www.stack.nl/~dimitri/doxygen/index.html"> <IMG SRC="../images/doxygen.gif" HEIGHT=40 ALIGN=center border=0></A>, last revised <em> August 30, 2006</em>.
</center>
